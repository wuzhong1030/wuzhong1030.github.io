(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{235:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("在JavaScript中经常用到的 this、call、apply、bind。")]),t._v(" "),s("h3",{attrs:{id:"先来看下this"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#先来看下this"}},[t._v("#")]),t._v(" 先来看下this")]),t._v(" "),s("p",[t._v("在 javascript 中，方法是怎么执行的")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://payll5f18.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-07-03%20%E4%B8%8B%E5%8D%884.03.35.png",alt:"enter image description here"}})]),t._v(" "),s("p",[t._v("方法执行需要有"),s("strong",[t._v("直接调用者")]),t._v("，fn函数是在全局下定义的，调用的时候如果没有指定调用者，默认会是window，也就是说window.fn() === fn()，所以this指向的是window对象。\n"),s("img",{attrs:{src:"http://payll5f18.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-07-03%20%E4%B8%8B%E5%8D%884.10.33.png",alt:"enter image description here"}}),t._v("\n这个例子说明，方法执行的"),s("strong",[t._v("直接调用者")]),t._v("，是离这个被调用方法最近的那个对象，也就是分别是 obj 和 obj.sub，所以this的指向分别是 obj 和 obj.sub。")]),t._v(" "),s("p",[t._v("如果这样写")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sub"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//window-name")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("这个是因为 a() 还是等价于 window.a()，所以this的指向还是window。")]),t._v(" "),s("h3",{attrs:{id:"使用call-和-apply-改变this"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用call-和-apply-改变this"}},[t._v("#")]),t._v(" 使用call 和 apply 改变this")]),t._v(" "),s("p",[t._v("先来看看 call，谁调用谁")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://payll5f18.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-07-03%20%E4%B8%8B%E5%8D%884.28.29.png",alt:"enter image description here"}})]),t._v(" "),s("p",[t._v("说明，f1.call(f2)，被执行的还是f1。这样写的目的在于使 this 指向 f2")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://payll5f18.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-07-03%20%E4%B8%8B%E5%8D%884.36.31.png",alt:"enter image description here"}})]),t._v(" "),s("p",[t._v("obj1.fn.call(obj2, 10)，执行的是 obj1.fn() ，但是this的指向是obj2的this，所以 this.num = 15")]),t._v(" "),s("blockquote",[s("p",[t._v("总结，call 函数的作用是改变被执行方法的"),s("strong",[t._v("直接调用者")]),t._v("，也就是 this，会重新指向新的调用者，也就是 call 函数的第一个参数。有两个特殊情况，当call 函数的第一个参数是null或者是undefined的时候，this会指向window")])]),t._v(" "),s("h3",{attrs:{id:"call-和-apply-的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#call-和-apply-的区别"}},[t._v("#")]),t._v(" call 和 apply 的区别")]),t._v(" "),s("p",[t._v("这两个方法类似，第一个参数都是一样的，不同点在于，call方法除了第一个参数，还可以接受其余一串的参数，也就是动态参数，而 apply 的第二个参数是一个数组，都是作为被执行方法的参数传入的")]),t._v(" "),s("h3",{attrs:{id:"bind"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bind"}},[t._v("#")]),t._v(" bind")]),t._v(" "),s("p",[t._v("bind方法与call方法类似，只是在调用bind方法后，并不能立即执行，需要再调用一次才可以执行函数，是柯里化函数的语法糖")])])}),[],!1,null,null,null);a.default=e.exports}}]);